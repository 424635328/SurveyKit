<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>问卷答案预览器 - SurveyKit</title>
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="viewer.css">
    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
</head>
<body class="bg-gray-50">

    <div class="viewer-container">
        <header class="page-header">
            <a href="./hub/hub.html" class="back-link"><i class="fa fa-arrow-left"></i> 返回工具中心</a>
            <h1 class="main-title animated-line">问卷答案预览器</h1>
        </header>

        <main id="view-container">
            <div id="id-input-view" class="view-section">
                <p class="prompt-text animated-line">请输入或粘贴一个有效的问卷ID来查看结果。</p>
                <form id="id-input-form" class="input-form animated-line">
                    <input type="text" id="survey-id-input" placeholder="例如: s_1a2b3c4d5e" required>
                    <button type="submit" id="submit-id-btn"><i class="fa fa-search"></i> 查看结果</button>
                </form>
            </div>

            <div id="results-view" class="view-section hidden">
                <div class="export-actions animated-line">
                    <p id="current-id-display">正在查看 ID: <span></span></p>
                    
                    <!-- Action Button Group -->
                    <div class="action-buttons-group">
                        <button id="search-new-btn" class="action-button search-new-button">
                            <i class="fa fa-search"></i> 查询其他ID
                        </button>
                        <div id="export-container" class="export-container">
                            <button id="exportBtn" class="action-button export-button">
                                <i class="fa fa-download"></i> 导出 <i class="fa fa-caret-down"></i>
                            </button>
                            <div id="export-menu" class="export-menu">
                                <a href="#" data-format="json"><i class="fa fa-file-code-o"></i><span>JSON</span></a>
                                <a href="#" data-format="excel"><i class="fa fa-file-excel-o"></i><span>Excel</span></a>
                                <a href="#" data-format="csv"><i class="fa fa-file-text-o"></i><span>CSV</span></a>
                                <a href="#" data-format="txt"><i class="fa fa-file-text"></i><span>TXT</span></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="results-container" class="results-grid">
                    <p class="loading-placeholder">正在加载数据...</p>
                </div>
            </div>
        </main>
        
        <footer class="page-footer">
            <p>由 <a href="https://github.com/424635328/SurveyKit" target="_blank" rel="noopener">SurveyKit</a> 强力驱动</p>
        </footer>
    </div>
    
    <div id="notification" class="notification-toast">
        <i id="notification-icon" class="fa fa-info-circle"></i>
        <span id="notification-text">操作成功</span>
    </div>

    <script src="viewer.js"></script>
</body>
</html>