<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>提交结果 - SurveyKit</title>
        <link rel="stylesheet" href="result.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap"
            rel="stylesheet">
    </head>

    <body>
        <div class="result-container">
            <!-- 1. 结果状态 - 作为一个独立的卡片 -->
            <div id="status-container" class="section-card status-container">
                <p class="loading">正在处理你的提交...</p>
            </div>

            <!-- 2. 人格画像卡片 -->
            <div id="personality-card" class="section-card personality-card"
                style="display: none;">
                <div class="card-header">
                    <span class="card-icon">🎭</span>
                    <h3>你的专属人格画像</h3>
                </div>
                <p id="personality-tag" class="personality-tag"></p>
                <p id="personality-desc" class="personality-desc"></p>
                <p id="secondary-personality" class="secondary-personality"
                    style="display: none;"></p>
            </div>

            <!-- 3. 答案彩蛋 - 作为一个独立的卡片 -->
            <div id="egg-container" class="section-card egg-container"
                style="display: none;">
                <div class="card-header">
                    <span class="card-icon">💡</span>
                    <h3>来自问卷的彩蛋</h3>
                </div>
                <p id="egg-text" class="egg-text"></p>
                <button id="reroll-egg-btn" class="reroll-btn" title="换一个看看">🎲
                    换一个</button>
            </div>

            <!-- 4. 功能操作区 - 使用flex布局，内部包含多个操作卡片 -->
            <div id="actions-container" class="actions-container"
                style="display: none;">
                <!-- 我的专属档案卡片 -->
                <div class="action-card section-card">
                    <h3>我的专属档案</h3>
                    <p>回顾你刚刚填写的所有答案，或复制ID分享给他人。</p>
                    <div id="my-id-container" class="my-id-container">
                        <span>你的ID:</span>
                        <code id="my-survey-id"></code>
                        <button id="copyIdBtn" title="复制ID">📋 Copy</button>
                    </div>
                    <button id="viewMySubmissionBtn"
                        class="primary-action-btn">查看我的完整提交 ↗</button>
                    <button id="goToMbtiAnalysisBtn"
                        class="primary-action-btn mbti-btn">深入分析我的MBTI
                        🤖</button>
                </div>

                <!-- 默契度大挑战卡片 -->
                <div class="action-card section-card">
                    <h3>默契度大挑战</h3>
                    <p>输入TA的问卷ID，或一键生成你的对比链接发给TA！</p>
                    <div class="compare-form">
                        <input type="text" id="compareIdInput"
                            placeholder="在此粘贴对方的问卷ID" autocomplete="off">
                        <button id="startCompareBtn"
                            class="primary-action-btn">开始对比</button>
                    </div>
                    <button id="generateCompareLinkBtn"
                        class="secondary-action-btn">🔗 生成我的对比链接</button>
                </div>
            </div>

            <!-- 5. 返回操作 -->
            <div class="back-action">
                <a href="/" class="secondary-action-link">‹ 返回首页再填一份</a>
            </div>
        </div>

        <script src="result.js"></script>
    </body>

</html>